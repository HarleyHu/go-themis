package core

import (
    "math/big"
    "strings"
    
    "github.com/themis-network/go-themis/accounts/abi"
    "github.com/themis-network/go-themis/common"
    "github.com/themis-network/go-themis/core/types"
    "github.com/themis-network/go-themis/params"
)

const (
    // Deployed code of system contract
    mainSystemContractCode = "0x6080604052600436106101d75763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630481c75f81146101dc57806304f49a3a146102035780630e14a3761461023757806313bc6d4b146102635780631c46066d146102845780632083c5f91461029957806321f8a721146102ae5780632c62ff2d146102c65780632e28d084146102de57806335f7ff631461033c57806336cb6592146103c95780633b7bfda0146103e45780633e49bed0146103fc5780633f185b6c146104175780634a3270d71461043a5780634b9f5c98146104525780635766b1a51461046c5780635948f733146104905780635beff993146104f8578063616b59f6146105105780636e89955014610528578063789c617c146105865780637ae1cfca1461059e5780638c160095146105b6578063986e791a146105ce578063a79413e1146105e6578063a855d4ce146105fb578063abfdcced14610613578063bd02d0f514610630578063c031a18014610648578063ca446dd914610660578063dc97d96214610684578063ddf801661461069c578063e2a4853a146106bd578063e2b202bf146106d8578063e80a7eb9146106f0578063ec672cf614610705578063f6bb3cc41461075f575b600080fd5b3480156101e857600080fd5b506101f1610777565b60408051918252519081900360200190f35b34801561020f57600080fd5b5061021b60043561077e565b60408051600160a060020a039092168252519081900360200190f35b34801561024357600080fd5b5061024f600435610799565b604080519115158252519081900360200190f35b34801561026f57600080fd5b5061024f600160a060020a0360043516610803565b34801561029057600080fd5b506101f161084c565b3480156102a557600080fd5b5061021b610852565b3480156102ba57600080fd5b5061021b60043561089c565b3480156102d257600080fd5b5061024f6004356108b7565b3480156102ea57600080fd5b5060408051602060046024803582810135601f810185900485028601850190965285855261024f95833595369560449491939091019190819084018382808284375094975061091b9650505050505050565b34801561034857600080fd5b5061035460043561098c565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561038e578181015183820152602001610376565b50505050905090810190601f1680156103bb5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156103d557600080fd5b5061021b600435602435610a27565b3480156103f057600080fd5b5061024f600435610a5e565b34801561040857600080fd5b5061024f600435602435610a73565b34801561042357600080fd5b50610438600160a060020a0360043516610ad1565b005b34801561044657600080fd5b50610354600435610cbb565b34801561045e57600080fd5b506104386004351515610d23565b34801561047857600080fd5b50610438600435600160a060020a0360243516610e8d565b34801561049c57600080fd5b506104a860043561106c565b60408051602080825283518183015283519192839290830191858101910280838360005b838110156104e45781810151838201526020016104cc565b505050509050019250505060405180910390f35b34801561050457600080fd5b5061024f6004356110d8565b34801561051c57600080fd5b5061024f60043561113f565b34801561053457600080fd5b5060408051602060046024803582810135601f810185900485028601850190965285855261024f95833595369560449491939091019190819084018382808284375094975061119e9650505050505050565b34801561059257600080fd5b506101f1600435611205565b3480156105aa57600080fd5b5061024f600435611217565b3480156105c257600080fd5b5061024f60043561122c565b3480156105da57600080fd5b50610354600435611289565b3480156105f257600080fd5b5061021b611320565b34801561060757600080fd5b506101f160043561136a565b34801561061f57600080fd5b5061024f600435602435151561137c565b34801561063c57600080fd5b506101f16004356113e8565b34801561065457600080fd5b506103546004356113fa565b34801561066c57600080fd5b5061024f600435600160a060020a0360243516611464565b34801561069057600080fd5b506101f16004356114de565b3480156106a857600080fd5b50610438600160a060020a03600435166114f0565b3480156106c957600080fd5b5061024f6004356024356115d3565b3480156106e457600080fd5b5061024f600435611631565b3480156106fc57600080fd5b506104a861168e565b34801561071157600080fd5b5060408051602060046024803582810135848102808701860190975280865261024f968435963696604495919490910192918291850190849080828437509497506116f09650505050505050565b34801561076b57600080fd5b5061024f600435611757565b600f545b90565b600060208190529081526040902054600160a060020a031681565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff1615156107e157600080fd5b5060009081526020819052604090208054600160a060020a0319169055600190565b60408051600080516020611bd98339815191528152606060020a600160a060020a03841602600e820152815190819003602201902060009081526005602052205460ff16919050565b60075481565b604080517f73797374656d2e766f746553797374656d436f6e74726163740000000000000081528151908190036019019020600090815260208190522054600160a060020a031690565b600090815260208190526040902054600160a060020a031690565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff1615156108ff57600080fd5b506000908152600560205260409020805460ff19169055600190565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff16151561096357600080fd5b6000838152600460209081526040909120835161098292850190611a32565b5060019392505050565b60036020908152600091825260409182902080548351601f600260001961010060018616150201909316929092049182018490048402810184019094528084529091830182828015610a1f5780601f106109f457610100808354040283529160200191610a1f565b820191906000526020600020905b815481529060010190602001808311610a0257829003601f168201915b505050505081565b600160205281600052604060002081815481101515610a4257fe5b600091825260209091200154600160a060020a03169150829050565b60056020526000908152604090205460ff1681565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff161515610abb57600080fd5b5060009182526006602052604090912055600190565b60408051600080516020611bd98339815191528152606060020a3302600e82015281519081900360220190206000908152600560205290812054819060ff161515610b1b57600080fd5b600f54600010610b2a57600080fd5b5050604080517f70726f64756365722e696e6465780000000000000000000000000000000000008152606060020a600160a060020a03841602600e82015281519081900360220190206000908152600260205290812054600f54909160001991909101908210801590610b9e5750600f5482105b1515610ba957600080fd5b80821415610bc35780610bbd600f82611ab0565b50610cb6565b600f805482908110610bd157fe5b600091825260209091200154600f8054600160a060020a039092169184908110610bf757fe5b9060005260206000200160006101000a815481600160a060020a030219169083600160a060020a031602179055508160026000600f84815481101515610c3957fe5b6000918252602080832090910154604080517f70726f64756365722e696e6465780000000000000000000000000000000000008152606060020a600160a060020a0390931692909202600e8301528051918290036022019091208452908301939093529101902055600f805490610cb4906000198301611ab0565b505b505050565b60046020908152600091825260409182902080548351601f600260001961010060018616150201909316929092049182018490048402810184019094528084529091830182828015610a1f5780601f106109f457610100808354040283529160200191610a1f565b604080517f70726f64756365722e73746174757300000000000000000000000000000000008152606060020a3302600f82015281519081900360230190206000908152600260205290812054600114610d7b57600080fd5b600854600160a060020a0316331415610d9357600080fd5b336000908152600d602052604090205460ff1615610db057600080fd5b336000818152600d60205260408120805460ff19166001908117909155600e805491820181559091527fbb7b4a454dc3493923482f07822329ed19e8244eff582cc204f8554c3620c3fd018054600160a060020a03191690911790558115610e515750600c8054600190810191829055600f54600360029091020401908111610e51576000600955600a54600b54610e519190600160a060020a03166117b6565b604080518315158152905133917f9186fc713232ad3af09e515527e73f725227602b71d227d1702cbb812da183fa919081900360200190a25050565b604080517f70726f64756365722e73746174757300000000000000000000000000000000008152606060020a3302600f8201528151908190036023019020600090815260026020529081205460609190600114610ee957600080fd5b600160a060020a0383161515610efe57600080fd5b831580610f0b5750836001145b1515610f1657600080fd5b600954600754420111610f2857600080fd5b6008805433600160a060020a03199182161790915542600955600a859055600b8054909116600160a060020a0385161790556001600c55600e805460408051602080840282018101909252828152929190830182828015610fb257602002820191906000526020600020905b8154600160a060020a03168152600190910190602001808311610f94575b50505050509150600090505b8151811015611018576000600860050160008484815181101515610fde57fe5b602090810291909101810151600160a060020a03168252810191909152604001600020805460ff1916911515919091179055600101610fbe565b611024600e6000611ad4565b60408051858152600160a060020a0385166020820152815133927f8a88481ed0fe4d97cd98dfb70bee8a75fc7333682788ddf1be2ba3897ccf8ede928290030190a250505050565b6000818152600160209081526040918290208054835181840281018401909452808452606093928301828280156110cc57602002820191906000526020600020905b8154600160a060020a031681526001909101906020018083116110ae575b50505050509050919050565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff16151561112057600080fd5b600082815260016020526040812061113791611ad4565b506001919050565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff16151561118757600080fd5b600082815260046020526040812061113791611af5565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff1615156111e657600080fd5b6000838152600360209081526040909120835161098292850190611a32565b60066020526000908152604090205481565b60009081526005602052604090205460ff1690565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff16151561127457600080fd5b50600090815260066020526040812055600190565b60008181526003602090815260409182902080548351601f60026101006001851615026000190190931692909204918201849004840281018401909452808452606093928301828280156110cc5780601f106112f3576101008083540402835291602001916110cc565b820191906000526020600020905b8154815290600101906020018083116113015750939695505050505050565b604080517f73797374656d2e72656753797374656d436f6e7472616374000000000000000081528151908190036018019020600090815260208190522054600160a060020a031690565b60026020526000908152604090205481565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff1615156113c457600080fd5b50600091825260056020526040909120805460ff1916911515919091179055600190565b60009081526002602052604090205490565b60008181526004602090815260409182902080548351601f60026101006001851615026000190190931692909204918201849004840281018401909452808452606093928301828280156110cc5780601f106112f3576101008083540402835291602001916110cc565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff1615156114ac57600080fd5b5060008281526020819052604090208054600160a060020a038316600160a060020a0319909116179055600192915050565b60009081526006602052604090205490565b60408051600080516020611bd98339815191528152606060020a3302600e820152815190819003602201902060009081526005602052205460ff16151561153657600080fd5b600f8054604080517f70726f64756365722e696e6465780000000000000000000000000000000000008152606060020a600160a060020a03909516948502600e820152815190819003602201902060009081526002602052908120829055600182018355919091527f8d1108e10bcb7c27dddfc02ed9d693a074039d026cf4ea4240b40f7d581ac802018054600160a060020a0319169091179055565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff16151561161b57600080fd5b5060009182526002602052604090912055600190565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff16151561167957600080fd5b50600090815260026020526040812055600190565b6060600f8054806020026020016040519081016040528092919081815260200182805480156116e657602002820191906000526020600020905b8154600160a060020a031681526001909101906020018083116116c8575b5050505050905090565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff16151561173857600080fd5b6000838152600160209081526040909120835161098292850190611b39565b60408051600080516020611bd98339815191528152606060020a3302600e8201528151908190036022019020600090815260056020529081205460ff16151561179f57600080fd5b600082815260036020526040812061113791611af5565b6000808315156118ea57604080517f73797374656d2e72656753797374656d436f6e74726163740000000000000000808252825191829003601890810183206000908152602081815285822054600080516020611bd9833981519152808752606060020a600160a060020a03928316818102600e808b01919091528a51998a900360229081018b20885260058088528c8920805460ff19908116909155958c52958f16938402918b01919091528a51998a90030189208652928452888520805490921660011790915594865286519586900390930185208252818152908590208054600160a060020a0319168417905588845283018190528284019190915291519193507f58027cca7b98d6b2e9635129e2005a783ec2d962a20f949ca9d3466c96bd1834919081900360600190a1610cb4565b83600114156101d75750604080517f73797374656d2e766f746553797374656d436f6e747261637400000000000000808252825191829003601990810183206000908152602081815285822054600080516020611bd98339815191528652606060020a600160a060020a03918216818102600e890152885197889003602201882085526005808552898620805460ff199081169091557f7373797374656d2e6164647265737300000000000000000000000000000000008a52938c16928302600f8a0152895198899003602301892086528452888520805490931660011790925594865286519586900390930185208252818152908590208054600160a060020a0319168417905587845283018190528284019190915291517f58027cca7b98d6b2e9635129e2005a783ec2d962a20f949ca9d3466c96bd18349181900360600190a1610cb4565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10611a7357805160ff1916838001178555611aa0565b82800160010185558215611aa0579182015b82811115611aa0578251825591602001919060010190611a85565b50611aac929150611b9a565b5090565b815481835581811115610cb657600083815260209020610cb6918101908301611b9a565b5080546000825590600052602060002090810190611af29190611b9a565b50565b50805460018160011615610100020316600290046000825580601f10611b1b5750611af2565b601f016020900490600052602060002090810190611af29190611b9a565b828054828255906000526020600020908101928215611b8e579160200282015b82811115611b8e5782518254600160a060020a031916600160a060020a03909116178255602090920191600190910190611b59565b50611aac929150611bb4565b61077b91905b80821115611aac5760008155600101611ba0565b61077b91905b80821115611aac578054600160a060020a0319168155600101611bba560073797374656d2e61646472657373000000000000000000000000000000000000a165627a7a72305820805d840e8119ecd43e3c65480c31f1b11c171b15205e26f9866dff2858873fdd0029"
    regSystemContractCode  = "0x6080604052600436106100db576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806304be495a146100e05780630d2fe9da1461010f578063117df088146101665780631af550731461017d578063421fca721461023857806388c72fdc146102bb578063a30f24c4146102e6578063aab147b214610315578063ab91ae801461036c578063c792d359146103c3578063d385c02f146103ee578063e53966b71461041d578063e80a7eb914610493578063ea4f48f3146104ff578063ef54632c1461052a575b600080fd5b3480156100ec57600080fd5b506100f5610555565b604051808215151515815260200191505060405180910390f35b34801561011b57600080fd5b50610124610afb565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561017257600080fd5b5061017b610b21565b005b34801561018957600080fd5b506101926116c1565b604051808060200180602001848152602001838103835286818151815260200191508051906020019060200280838360005b838110156101df5780820151818401526020810190506101c4565b50505050905001838103825285818151815260200191508051906020019060200280838360005b83811015610221578082015181840152602081019050610206565b505050509050019550505050505060405180910390f35b34801561024457600080fd5b506102a1600480360381019080803590602001908201803590602001919091929391929390803590602001908201803590602001919091929391929390803590602001908201803590602001919091929391929390505050611a35565b604051808215151515815260200191505060405180910390f35b3480156102c757600080fd5b506102d06121f2565b6040518082815260200191505060405180910390f35b3480156102f257600080fd5b506102fb6121f8565b604051808215151515815260200191505060405180910390f35b34801561032157600080fd5b50610356600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050612649565b6040518082815260200191505060405180910390f35b34801561037857600080fd5b5061038161279e565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156103cf57600080fd5b506103d86127c4565b6040518082815260200191505060405180910390f35b3480156103fa57600080fd5b506104036127ca565b604051808215151515815260200191505060405180910390f35b610479600480360381019080803590602001908201803590602001919091929391929390803590602001908201803590602001919091929391929390803590602001908201803590602001919091929391929390505050612fa2565b604051808215151515815260200191505060405180910390f35b34801561049f57600080fd5b506104a8613c4f565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b838110156104eb5780820151818401526020810190506104d0565b505050509050019250505060405180910390f35b34801561050b57600080fd5b50610514613d6d565b6040518082815260200191505060405180910390f35b34801561053657600080fd5b5061053f613d73565b6040518082815260200191505060405180910390f35b60006002600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561066a57600080fd5b505af115801561067e573d6000803e3d6000fd5b505050506040513d602081101561069457600080fd5b81019080805190602001909291905050501415156106b157600080fd5b6001600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f766f74652e737461747573000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156107c457600080fd5b505af11580156107d8573d6000803e3d6000fd5b505050506040513d60208110156107ee57600080fd5b81019080805190602001909291905050501415151561080c57600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf3360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561091d57600080fd5b505af1158015610931573d6000803e3d6000fd5b505050506040513d602081101561094757600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf3360405180807f766f74652e737461747573000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015610a6a57600080fd5b505af1158015610a7e573d6000803e3d6000fd5b505050506040513d6020811015610a9457600080fd5b8101908080519060200190929190505050503373ffffffffffffffffffffffffffffffffffffffff167fc7ccee8c463e1c633c3c5e935f474bf6574a54a4b7857c9aa57b4e40f855f259426040518082815260200191505060405180910390a26001905090565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008060003360405180807f70726f64756365722e7374617475730000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902092506002600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5856040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015610c3c57600080fd5b505af1158015610c50573d6000803e3d6000fd5b505050506040513d6020811015610c6657600080fd5b8101908080519060200190929190505050141515610c8357600080fd5b610de3600154600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f70726f64756365722e6f757454696d65000000000000000000000000000000008152506010018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015610d9a57600080fd5b505af1158015610dae573d6000803e3d6000fd5b505050506040513d6020811015610dc457600080fd5b8101908080519060200190929190505050613d7990919063ffffffff16565b42111515610df057600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf3360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015610f0157600080fd5b505af1158015610f15573d6000803e3d6000fd5b505050506040513d6020811015610f2b57600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f6bb3cc43360405180807f70726f64756365722e6e616d6500000000000000000000000000000000000000815250600d018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561104e57600080fd5b505af1158015611062573d6000803e3d6000fd5b505050506040513d602081101561107857600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f6bb3cc43360405180807f70726f64756365722e77656255726c0000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561119b57600080fd5b505af11580156111af573d6000803e3d6000fd5b505050506040513d60208110156111c557600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663f6bb3cc43360405180807f70726f64756365722e70327055726c0000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156112e857600080fd5b505af11580156112fc573d6000803e3d6000fd5b505050506040513d602081101561131257600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf846040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156113bd57600080fd5b505af11580156113d1573d6000803e3d6000fd5b505050506040513d60208110156113e757600080fd5b8101908080519060200190929190505050503360405180807f70726f64756365722e6465706f736974000000000000000000000000000000008152506010018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209150600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561150d57600080fd5b505af1158015611521573d6000803e3d6000fd5b505050506040513d602081101561153757600080fd5b81019080805190602001909291905050509050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156115e357600080fd5b505af11580156115f7573d6000803e3d6000fd5b505050506040513d602081101561160d57600080fd5b8101908080519060200190929190505050503373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f19350505050158015611665573d6000803e3d6000fd5b503373ffffffffffffffffffffffffffffffffffffffff167f8e9e3ccba72c5c1b74b7d52a9d2a3d43e43b0da1c0d0626df0e7c9112dd10b458242604051808381526020018281526020019250505060405180910390a2505050565b60608060006060806000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e80a7eb96040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b15801561175157600080fd5b505af1158015611765573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f82011682018060405250602081101561178f57600080fd5b8101908080516401000000008111156117a757600080fd5b828101905060208101848111156117bd57600080fd5b81518560208202830111640100000000821117156117da57600080fd5b5050929190505050925082516040519080825280602002602001820160405280156118145781602001602082028038833980820191505090505b509150600090505b8251811015611a2257600073ffffffffffffffffffffffffffffffffffffffff16838281518110151561184b57fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff161415156119f657600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f584838151811015156118be57fe5b9060200190602002015160405180807f70726f64756365722e766f7465576569676874000000000000000000000000008152506013018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561199a57600080fd5b505af11580156119ae573d6000803e3d6000fd5b505050506040513d60208110156119c457600080fd5b810190808051906020019092919050505082828151811015156119e357fe5b9060200190602002018181525050611a15565b60008282815181101515611a0657fe5b90602001906020020181815250505b808060010191505061181c565b8282600254955095509550505050909192565b60006001600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015611b4a57600080fd5b505af1158015611b5e573d6000803e3d6000fd5b505050506040513d6020811015611b7457600080fd5b8101908080519060200190929190505050141515611b9157600080fd5b6001600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f70726f64756365722e7374617475730000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015611ca457600080fd5b505af1158015611cb8573d6000803e3d6000fd5b505050506040513d6020811015611cce57600080fd5b8101908080519060200190929190505050141515611ceb57600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636e8995503360405180807f70726f64756365722e6e616d6500000000000000000000000000000000000000815250600d018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902089896040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018084600019166000191681526020018060200182810382528484828181526020019250808284378201915050945050505050602060405180830381600087803b158015611e1e57600080fd5b505af1158015611e32573d6000803e3d6000fd5b505050506040513d6020811015611e4857600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636e8995503360405180807f70726f64756365722e77656255726c0000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902087876040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018084600019166000191681526020018060200182810382528484828181526020019250808284378201915050945050505050602060405180830381600087803b158015611f8d57600080fd5b505af1158015611fa1573d6000803e3d6000fd5b505050506040513d6020811015611fb757600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636e8995503360405180807f70726f64756365722e70327055726c0000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902085856040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018084600019166000191681526020018060200182810382528484828181526020019250808284378201915050945050505050602060405180830381600087803b1580156120fc57600080fd5b505af1158015612110573d6000803e3d6000fd5b505050506040513d602081101561212657600080fd5b8101908080519060200190929190505050503373ffffffffffffffffffffffffffffffffffffffff167ff803dd90f36c9991471017caaf6c9b7c7fc074fae88b065bb25a3072149999888888888888886040518080602001806020018060200184810384528a8a8281815260200192508082843782019150508481038352888882818152602001925080828437820191505084810382528686828181526020019250808284378201915050995050505050505050505060405180910390a2600190509695505050505050565b60005481565b600080600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561230c57600080fd5b505af1158015612320573d6000803e3d6000fd5b505050506040513d602081101561233657600080fd5b810190808051906020019092919050505014151561235357600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b15801561246d57600080fd5b505af1158015612481573d6000803e3d6000fd5b505050506040513d602081101561249757600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f70726f78792e7374617475730000000000000000000000000000000000000000815250600c018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b1580156125c357600080fd5b505af11580156125d7573d6000803e3d6000fd5b505050506040513d60208110156125ed57600080fd5b8101908080519060200190929190505050503373ffffffffffffffffffffffffffffffffffffffff167fc686b241606f36270db6f798cbe0c01c064676c4918449e684002f91af8d560c60405160405180910390a26001905090565b6000600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f58360405180807f70726f64756365722e766f7465576569676874000000000000000000000000008152506013018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561275c57600080fd5b505af1158015612770573d6000803e3d6000fd5b505050506040513d602081101561278657600080fd5b81019080805190602001909291905050509050919050565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60035481565b60006001600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156128df57600080fd5b505af11580156128f3573d6000803e3d6000fd5b505050506040513d602081101561290957600080fd5b810190808051906020019092919050505014151561292657600080fd5b6001600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f70726f64756365722e7374617475730000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015612a3957600080fd5b505af1158015612a4d573d6000803e3d6000fd5b505050506040513d6020811015612a6357600080fd5b8101908080519060200190929190505050141515612a8057600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf3360405180807f70726f64756365722e766f7465576569676874000000000000000000000000008152506013018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015612b9157600080fd5b505af1158015612ba5573d6000803e3d6000fd5b505050506040513d6020811015612bbb57600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f70726f64756365722e7374617475730000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060026040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015612ce757600080fd5b505af1158015612cfb573d6000803e3d6000fd5b505050506040513d6020811015612d1157600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f70726f64756365722e6f757454696d65000000000000000000000000000000008152506010018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040518091039020426040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015612e3c57600080fd5b505af1158015612e50573d6000803e3d6000fd5b505050506040513d6020811015612e6657600080fd5b810190808051906020019092919050505050600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16633f185b6c336040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050600060405180830381600087803b158015612f3557600080fd5b505af1158015612f49573d6000803e3d6000fd5b505050503373ffffffffffffffffffffffffffffffffffffffff167f3b19b509f96372cac17503fd8376ee2a44539ffd7e0951c9350df87e97036270426040518082815260200191505060405180910390a26001905090565b6000803390506000600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f58360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156130bb57600080fd5b505af11580156130cf573d6000803e3d6000fd5b505050506040513d60208110156130e557600080fd5b810190808051906020019092919050505014151561310257600080fd5b3460005414151561311257600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a8260405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b15801561322c57600080fd5b505af1158015613240573d6000803e3d6000fd5b505050506040513d602081101561325657600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636e8995508260405180807f70726f64756365722e6e616d6500000000000000000000000000000000000000815250600d018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390208a8a6040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018084600019166000191681526020018060200182810382528484828181526020019250808284378201915050945050505050602060405180830381600087803b15801561339b57600080fd5b505af11580156133af573d6000803e3d6000fd5b505050506040513d60208110156133c557600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636e8995508260405180807f70726f64756365722e77656255726c0000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902088886040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018084600019166000191681526020018060200182810382528484828181526020019250808284378201915050945050505050602060405180830381600087803b15801561350a57600080fd5b505af115801561351e573d6000803e3d6000fd5b505050506040513d602081101561353457600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636e8995508260405180807f70726f64756365722e70327055726c0000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902086866040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018084600019166000191681526020018060200182810382528484828181526020019250808284378201915050945050505050602060405180830381600087803b15801561367957600080fd5b505af115801561368d573d6000803e3d6000fd5b505050506040513d60208110156136a357600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a8260405180807f70726f64756365722e6465706f736974000000000000000000000000000000008152506010018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040518091039020346040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b1580156137ce57600080fd5b505af11580156137e2573d6000803e3d6000fd5b505050506040513d60208110156137f857600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a8260405180807f70726f64756365722e7374617475730000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b15801561392457600080fd5b505af1158015613938573d6000803e3d6000fd5b505050506040513d602081101561394e57600080fd5b810190808051906020019092919050505050600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a8260405180807f70726f64756365722e6f757454696d65000000000000000000000000000000008152506010018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206003546040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015613a7b57600080fd5b505af1158015613a8f573d6000803e3d6000fd5b505050506040513d6020811015613aa557600080fd5b810190808051906020019092919050505050600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ddf80166826040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050600060405180830381600087803b158015613b7457600080fd5b505af1158015613b88573d6000803e3d6000fd5b505050503373ffffffffffffffffffffffffffffffffffffffff167fc39145bd434b7cf595e248904b19659d40528dda5c35c3b3078c2889c75d283c898989898989346040518080602001806020018060200185815260200184810384528b8b82818152602001925080828437820191505084810383528989828181526020019250808284378201915050848103825287878281815260200192508082843782019150509a505050505050505050505060405180910390a260019150509695505050505050565b6060600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e80a7eb96040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401600060405180830381600087803b158015613cd757600080fd5b505af1158015613ceb573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052506020811015613d1557600080fd5b810190808051640100000000811115613d2d57600080fd5b82810190506020810184811115613d4357600080fd5b8151856020820283011164010000000082111715613d6057600080fd5b5050929190505050905090565b60025481565b60015481565b60008183019050828110151515613d8c57fe5b809050929150505600a165627a7a72305820f857a1ef3fa25b23065276fce303546caf83331b50d05619e61a9b940a004e7a0029"
    voteSystemContractCode = "0x6080604052600436106100a4576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680632a2c4f5c146100a957806338076203146100d4578063545f4a71146100ff5780635b41bc7d14610152578063ab91ae8014610181578063ae2e6f49146101d8578063bed7960914610207578063bed9d8611461026d578063c792d35914610284578063dc1e30da146102af575b600080fd5b3480156100b557600080fd5b506100be610388565b6040518082815260200191505060405180910390f35b3480156100e057600080fd5b506100e961038e565b6040518082815260200191505060405180910390f35b34801561010b57600080fd5b50610138600480360381019080803590602001908201803590602001919091929391929390505050610394565b604051808215151515815260200191505060405180910390f35b34801561015e57600080fd5b506101676112e8565b604051808215151515815260200191505060405180910390f35b34801561018d57600080fd5b50610196611b90565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101e457600080fd5b506101ed611bb6565b604051808215151515815260200191505060405180910390f35b610253600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001908201803590602001919091929391929390505050612dd3565b604051808215151515815260200191505060405180910390f35b34801561027957600080fd5b506102826142ee565b005b34801561029057600080fd5b50610299614ab3565b6040518082815260200191505060405180910390f35b3480156102bb57600080fd5b506102f0600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050614ab9565b604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001848152602001838152602001828103825285818151815260200191508051906020019060200280838360005b83811015610371578082015181840152602081019050610356565b505050509050019550505050505060405180910390f35b60015481565b60025481565b60008060606000806002600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156104af57600080fd5b505af11580156104c3573d6000803e3d6000fd5b505050506040513d60208110156104d957600080fd5b81019080805190602001909291905050501415156104f657600080fd5b61052e87878080602002602001604051908101604052809392919081815260200183836020028082843782019150505050505061506c565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f766f74652e776569676874000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561063f57600080fd5b505af1158015610653573d6000803e3d6000fd5b505050506040513d602081101561066957600080fd5b81019080805190602001909291905050509350600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635948f7333360405180807f766f74652e766f746550726f64756365727300000000000000000000000000008152506012018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050600060405180830381600087803b15801561078d57600080fd5b505af11580156107a1573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f8201168201806040525060208110156107cb57600080fd5b8101908080516401000000008111156107e357600080fd5b828101905060208101848111156107f957600080fd5b815185602082028301116401000000008211171561081657600080fd5b50509291905050509250600083511415610ab357600090505b86869050811015610aae57868682818110151561084857fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1660405180807f70726f64756365722e766f7465576569676874000000000000000000000000008152506013018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a83610a0487600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5886040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156109bb57600080fd5b505af11580156109cf573d6000803e3d6000fd5b505050506040513d60208110156109e557600080fd5b81019080805190602001909291905050506156cf90919063ffffffff16565b6040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015610a6557600080fd5b505af1158015610a79573d6000803e3d6000fd5b505050506040513d6020811015610a8f57600080fd5b810190808051906020019092919050505050808060010191505061082f565b610fa7565b600090505b8251811015610d22578281815181101515610acf57fe5b9060200190602002015160405180807f70726f64756365722e766f7465576569676874000000000000000000000000008152506013018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a83610c7887600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5886040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015610c2f57600080fd5b505af1158015610c43573d6000803e3d6000fd5b505050506040513d6020811015610c5957600080fd5b81019080805190602001909291905050506156eb90919063ffffffff16565b6040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015610cd957600080fd5b505af1158015610ced573d6000803e3d6000fd5b505050506040513d6020811015610d0357600080fd5b8101908080519060200190929190505050508080600101915050610ab8565b600090505b86869050811015610fa6578686828181101515610d4057fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1660405180807f70726f64756365722e766f7465576569676874000000000000000000000000008152506013018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a83610efc87600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5886040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015610eb357600080fd5b505af1158015610ec7573d6000803e3d6000fd5b505050506040513d6020811015610edd57600080fd5b81019080805190602001909291905050506156cf90919063ffffffff16565b6040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015610f5d57600080fd5b505af1158015610f71573d6000803e3d6000fd5b505050506040513d6020811015610f8757600080fd5b8101908080519060200190929190505050508080600101915050610d27565b5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f766f74652e737461747573000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b1580156110c157600080fd5b505af11580156110d5573d6000803e3d6000fd5b505050506040513d60208110156110eb57600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ec672cf63360405180807f766f74652e766f746550726f64756365727300000000000000000000000000008152506012018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902089896040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018084600019166000191681526020018060200182810382528484828181526020019250602002808284378201915050945050505050602060405180830381600087803b15801561123357600080fd5b505af1158015611247573d6000803e3d6000fd5b505050506040513d602081101561125d57600080fd5b8101908080519060200190929190505050503373ffffffffffffffffffffffffffffffffffffffff167fd46c1e81ba0ed24eccce499e94541a147c4fa3f6346854d76d70f3b6d401f8db8888604051808060200182810382528484828181526020019250602002808284378201915050935050505060405180910390a2600194505050505092915050565b600080600080600060606002600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561140557600080fd5b505af1158015611419573d6000803e3d6000fd5b505050506040513d602081101561142f57600080fd5b810190808051906020019092919050505014151561144c57600080fd5b3360405180807f766f74652e737461747573000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902094506001600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5876040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561156257600080fd5b505af1158015611576573d6000803e3d6000fd5b505050506040513d602081101561158c57600080fd5b81019080805190602001909291905050501415156115a957600080fd5b3360405180807f766f74652e776569676874000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209350600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5856040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156116bd57600080fd5b505af11580156116d1573d6000803e3d6000fd5b505050506040513d60208110156116e757600080fd5b810190808051906020019092919050505092503360405180807f766f74652e766f746550726f64756365727300000000000000000000000000008152506012018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635948f733836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050600060405180830381600087803b15801561180e57600080fd5b505af1158015611822573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f82011682018060405250602081101561184c57600080fd5b81019080805164010000000081111561186457600080fd5b8281019050602081018481111561187a57600080fd5b815185602082028301116401000000008211171561189757600080fd5b505092919050505090506118ae8133856000615704565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635beff993836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561194757600080fd5b505af115801561195b573d6000803e3d6000fd5b505050506040513d602081101561197157600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a8660026040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015611a2557600080fd5b505af1158015611a39573d6000803e3d6000fd5b505050506040513d6020811015611a4f57600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf856040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015611afa57600080fd5b505af1158015611b0e573d6000803e3d6000fd5b505050506040513d6020811015611b2457600080fd5b8101908080519060200190929190505050503373ffffffffffffffffffffffffffffffffffffffff167f46f83f2216482f0d8839e93d2c2616a5fb914d68342883e58d8842b441bd54d4426040518082815260200191505060405180910390a260019550505050505090565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080600080606060038060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015611cd057600080fd5b505af1158015611ce4573d6000803e3d6000fd5b505050506040513d6020811015611cfa57600080fd5b8101908080519060200190929190505050141515611d1757600080fd5b3360405180807f766f74652e737461747573000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902093506001600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5866040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015611e2d57600080fd5b505af1158015611e41573d6000803e3d6000fd5b505050506040513d6020811015611e5757600080fd5b8101908080519060200190929190505050141515611e7457600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f766f74652e776569676874000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015611f8557600080fd5b505af1158015611f99573d6000803e3d6000fd5b505050506040513d6020811015611faf57600080fd5b81019080805190602001909291905050509250600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166321f8a7213360405180807f766f74652e766f746550726f7879000000000000000000000000000000000000815250600e018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156120d357600080fd5b505af11580156120e7573d6000803e3d6000fd5b505050506040513d60208110156120fd57600080fd5b81019080805190602001909291905050509150600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415156125ae57600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a8360405180807f766f74652e776569676874000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902061235b86600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f58860405180807f766f74652e776569676874000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561231257600080fd5b505af1158015612326573d6000803e3d6000fd5b505050506040513d602081101561233c57600080fd5b81019080805190602001909291905050506156eb90919063ffffffff16565b6040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b1580156123bc57600080fd5b505af11580156123d0573d6000803e3d6000fd5b505050506040513d60208110156123e657600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635948f7338360405180807f766f74652e766f746550726f64756365727300000000000000000000000000008152506012018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050600060405180830381600087803b15801561250957600080fd5b505af115801561251d573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f82011682018060405250602081101561254757600080fd5b81019080805164010000000081111561255f57600080fd5b8281019050602081018481111561257557600080fd5b815185602082028301116401000000008211171561259257600080fd5b505092919050505090506125a98183856000615704565b612760565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635948f7333360405180807f766f74652e766f746550726f64756365727300000000000000000000000000008152506012018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050600060405180830381600087803b1580156126bf57600080fd5b505af11580156126d3573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f8201168201806040525060208110156126fd57600080fd5b81019080805164010000000081111561271557600080fd5b8281019050602081018481111561272b57600080fd5b815185602082028301116401000000008211171561274857600080fd5b5050929190505050905061275f8133856000615704565b5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a8560026040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b15801561280257600080fd5b505af1158015612816573d6000803e3d6000fd5b505050506040513d602081101561282c57600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f766f74652e756e766f746554696d650000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040518091039020426040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b15801561295757600080fd5b505af115801561296b573d6000803e3d6000fd5b505050506040513d602081101561298157600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635beff9933360405180807f766f74652e766f746550726f64756365727300000000000000000000000000008152506012018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015612aa457600080fd5b505af1158015612ab8573d6000803e3d6000fd5b505050506040513d6020811015612ace57600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630e14a3763360405180807f766f74652e766f746550726f7879000000000000000000000000000000000000815250600e018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015612bf157600080fd5b505af1158015612c05573d6000803e3d6000fd5b505050506040513d6020811015612c1b57600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf3360405180807f766f74652e776569676874000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015612d3e57600080fd5b505af1158015612d52573d6000803e3d6000fd5b505050506040513d6020811015612d6857600080fd5b8101908080519060200190929190505050503373ffffffffffffffffffffffffffffffffffffffff167f2199fcd2dd4d48edeef57d851b15e6ef618dd40ae1104d8e753602502e33ef1c426040518082815260200191505060405180910390a2600194505050505090565b600080600080606060003360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902094506000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5876040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015612ef357600080fd5b505af1158015612f07573d6000803e3d6000fd5b505050506040513d6020811015612f1d57600080fd5b8101908080519060200190929190505050141515612f3a57600080fd5b6001543410151515612f4b57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168973ffffffffffffffffffffffffffffffffffffffff161415156133bb576002600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f58b60405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561309457600080fd5b505af11580156130a8573d6000803e3d6000fd5b505050506040513d60208110156130be57600080fd5b81019080805190602001909291905050501415156130db57600080fd5b6001600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f58b60405180807f70726f78792e7374617475730000000000000000000000000000000000000000815250600c018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156131ee57600080fd5b505af1158015613202573d6000803e3d6000fd5b505050506040513d602081101561321857600080fd5b810190808051906020019092919050505014151561323557600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ca446dd93360405180807f766f74652e766f746550726f7879000000000000000000000000000000000000815250600e018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390208b6040518363ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018083600019166000191681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050602060405180830381600087803b15801561337a57600080fd5b505af115801561338e573d6000803e3d6000fd5b505050506040513d60208110156133a457600080fd5b810190808051906020019092919050505050613566565b6133f388888080602002602001604051908101604052809392919081815260200183836020028082843782019150505050505061506c565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663ec672cf63360405180807f766f74652e766f746550726f64756365727300000000000000000000000000008152506012018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390208a8a6040518463ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018084600019166000191681526020018060200182810382528484828181526020019250602002808284378201915050945050505050602060405180830381600087803b15801561352957600080fd5b505af115801561353d573d6000803e3d6000fd5b505050506040513d602081101561355357600080fd5b8101908080519060200190929190505050505b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a8660036040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b15801561360857600080fd5b505af115801561361c573d6000803e3d6000fd5b505050506040513d602081101561363257600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f766f74652e7374616b6564000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040518091039020346040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b15801561375d57600080fd5b505af1158015613771573d6000803e3d6000fd5b505050506040513d602081101561378757600080fd5b8101908080519060200190929190505050506137a234615a77565b9350600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f766f74652e776569676874000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040518091039020866040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b1580156138bd57600080fd5b505af11580156138d1573d6000803e3d6000fd5b505050506040513d60208110156138e757600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f766f74652e737461747573000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902060016040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015613a1357600080fd5b505af1158015613a27573d6000803e3d6000fd5b505050506040513d6020811015613a3d57600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a3360405180807f766f74652e756e766f746554696d650000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206000546040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015613b6a57600080fd5b505af1158015613b7e573d6000803e3d6000fd5b505050506040513d6020811015613b9457600080fd5b810190808051906020019092919050505050600073ffffffffffffffffffffffffffffffffffffffff168973ffffffffffffffffffffffffffffffffffffffff16141515613fcf578860405180807f766f74652e776569676874000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209250600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a84613d7c87600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5896040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015613d3357600080fd5b505af1158015613d47573d6000803e3d6000fd5b505050506040513d6020811015613d5d57600080fd5b81019080805190602001909291905050506156cf90919063ffffffff16565b6040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015613ddd57600080fd5b505af1158015613df1573d6000803e3d6000fd5b505050506040513d6020811015613e0757600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635948f7338a60405180807f766f74652e766f746550726f64756365727300000000000000000000000000008152506012018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050600060405180830381600087803b158015613f2a57600080fd5b505af1158015613f3e573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052506020811015613f6857600080fd5b810190808051640100000000811115613f8057600080fd5b82810190506020810184811115613f9657600080fd5b8151856020820283011164010000000082111715613fb357600080fd5b50509291905050509150613fca828a866001615704565b614254565b600090505b87879050811015614253578787828181101515613fed57fe5b9050602002013573ffffffffffffffffffffffffffffffffffffffff1660405180807f70726f64756365722e766f7465576569676874000000000000000000000000008152506013018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209250600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a846141a987600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5896040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561416057600080fd5b505af1158015614174573d6000803e3d6000fd5b505050506040513d602081101561418a57600080fd5b81019080805190602001909291905050506156cf90919063ffffffff16565b6040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b15801561420a57600080fd5b505af115801561421e573d6000803e3d6000fd5b505050506040513d602081101561423457600080fd5b8101908080519060200190929190505050508080600101915050613fd4565b5b8873ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f5fd2438cc54f76807d5a8071c168927902854cef6c0c22176ded5bbe7174a9fb8a8a3460405180806020018381526020018281038252858582818152602001925060200280828437820191505094505050505060405180910390a36001955050505050509392505050565b60008060003360405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040518091039020925060038060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5856040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561440857600080fd5b505af115801561441c573d6000803e3d6000fd5b505050506040513d602081101561443257600080fd5b810190808051906020019092919050505014151561444f57600080fd5b3360405180807f766f74652e737461747573000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051809103902091506002600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5846040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561456557600080fd5b505af1158015614579573d6000803e3d6000fd5b505050506040513d602081101561458f57600080fd5b81019080805190602001909291905050501415156145ac57600080fd5b61470c600254600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f766f74652e756e766f746554696d650000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156146c357600080fd5b505af11580156146d7573d6000803e3d6000fd5b505050506040513d60208110156146ed57600080fd5b81019080805190602001909291905050506156cf90919063ffffffff16565b4211151561471957600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f53360405180807f766f74652e7374616b6564000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561482a57600080fd5b505af115801561483e573d6000803e3d6000fd5b505050506040513d602081101561485457600080fd5b81019080805190602001909291905050509050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf846040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561490057600080fd5b505af1158015614914573d6000803e3d6000fd5b505050506040513d602081101561492a57600080fd5b810190808051906020019092919050505050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2b202bf836040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156149d557600080fd5b505af11580156149e9573d6000803e3d6000fd5b505050506040513d60208110156149ff57600080fd5b8101908080519060200190929190505050503373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f19350505050158015614a57573d6000803e3d6000fd5b503373ffffffffffffffffffffffffffffffffffffffff167fd2a1d21b9fe9c327ee10aa0097ad63335aabc0359e03d12808fc1abd1bf6ffa98242604051808381526020018281526020019250505060405180910390a2505050565b60005481565b6000606060008060006060600080600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166321f8a7218a60405180807f766f74652e766f746550726f7879000000000000000000000000000000000000815250600e018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015614bd857600080fd5b505af1158015614bec573d6000803e3d6000fd5b505050506040513d6020811015614c0257600080fd5b81019080805190602001909291905050509350600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16635948f7338a60405180807f766f74652e766f746550726f64756365727300000000000000000000000000008152506012018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050600060405180830381600087803b158015614d2657600080fd5b505af1158015614d3a573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052506020811015614d6457600080fd5b810190808051640100000000811115614d7c57600080fd5b82810190506020810184811115614d9257600080fd5b8151856020820283011164010000000082111715614daf57600080fd5b50509291905050509250600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f58a60405180807f766f74652e7374616b6564000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b158015614eca57600080fd5b505af1158015614ede573d6000803e3d6000fd5b505050506040513d6020811015614ef457600080fd5b81019080805190602001909291905050509150600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f58a60405180807f766f74652e776569676874000000000000000000000000000000000000000000815250600b018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561501857600080fd5b505af115801561502c573d6000803e3d6000fd5b505050506040513d602081101561504257600080fd5b81019080805190602001909291905050509050838383839750975097509750505050509193509193565b6000601e82511115151561507f57600080fd5b6001600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f58460008151811015156150ce57fe5b9060200190602002015160405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b1580156151aa57600080fd5b505af11580156151be573d6000803e3d6000fd5b505050506040513d60208110156151d457600080fd5b81019080805190602001909291905050501415156151f157600080fd5b6001600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f584600081518110151561524057fe5b9060200190602002015160405180807f70726f64756365722e7374617475730000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561531c57600080fd5b505af1158015615330573d6000803e3d6000fd5b505050506040513d602081101561534657600080fd5b810190808051906020019092919050505014151561536357600080fd5b600190505b81518110156156cb576001600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f584848151811015156153bf57fe5b9060200190602002015160405180807f757365722e726f6c6500000000000000000000000000000000000000000000008152506009018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561549b57600080fd5b505af11580156154af573d6000803e3d6000fd5b505050506040513d60208110156154c557600080fd5b81019080805190602001909291905050501415156154e257600080fd5b6001600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5848481518110151561553057fe5b9060200190602002015160405180807f70726f64756365722e7374617475730000000000000000000000000000000000815250600f018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390206040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561560c57600080fd5b505af1158015615620573d6000803e3d6000fd5b505050506040513d602081101561563657600080fd5b810190808051906020019092919050505014151561565357600080fd5b818181518110151561566157fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff16826001830381518110151561569257fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff161015156156be57600080fd5b8080600101915050615368565b5050565b600081830190508281101515156156e257fe5b80905092915050565b60008282111515156156f957fe5b818303905092915050565b60008060008090505b8651811015615a6e57868181518110151561572457fe5b9060200190602002015160405180807f70726f64756365722e766f7465576569676874000000000000000000000000008152506013018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c0100000000000000000000000002815260140191505060405180910390209150831561589b5761589485600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5856040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561584b57600080fd5b505af115801561585f573d6000803e3d6000fd5b505050506040513d602081101561587557600080fd5b81019080805190602001909291905050506156cf90919063ffffffff16565b9250615984565b61598185600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bd02d0f5856040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808260001916600019168152602001915050602060405180830381600087803b15801561593857600080fd5b505af115801561594c573d6000803e3d6000fd5b505050506040513d602081101561596257600080fd5b81019080805190602001909291905050506156eb90919063ffffffff16565b92505b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663e2a4853a83856040518363ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180836000191660001916815260200182815260200192505050602060405180830381600087803b158015615a2557600080fd5b505af1158015615a39573d6000803e3d6000fd5b505050506040513d6020811015615a4f57600080fd5b810190808051906020019092919050505050808060010191505061570d565b50505050505050565b6000615a8d600183615a9490919063ffffffff16565b9050919050565b600080831415615aa75760009050615ac6565b8183029050818382811515615ab857fe5b04141515615ac257fe5b8090505b929150505600a165627a7a72305820647525a31e1f719bb1326b4b962c1fbbeff34340a584b0bd24a144191f58652a0029"
    
    // System contract abi generated by abigen
    mainSystemContractABI = "[{\"constant\":false,\"inputs\":[],\"name\":\"getVoteSystemContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"getRegSystemContract\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]"
    regSystemContractABI  = "[{\"constant\":true,\"inputs\":[],\"name\":\"getAllProducersInfo\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"},{\"name\":\"\",\"type\":\"uint256[]\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]"
    voteSystemContractABI = ""
    
    // Method ID
    getRegSystemContractMethodID  = "a79413e1"
    getVoteSystemContractMethodID = "2083c5f9"
    getAllProducersInfoMethodID   = "1af55073"
)

// System contract variables
var (
    MainSystemContractAddr = common.BytesToAddress([]byte{9})
    RegSystemContractAddr  = common.BytesToAddress([]byte{10})
    VoteSystemContractAddr = common.BytesToAddress([]byte{11})
    
    // Main contract variables
    RegContractBoolStorageIndex = common.HexToHash("0xddefb938278018c16c1e429eff219977102bbd1a16c0a9ca12f10ae5d425e820")
    RegContractBoolStorageValue = common.BytesToHash([]byte{1})
    
    RegContractAddressStorageIndex = common.HexToHash("0x11cde89d6b0e279583592f4b5d7e2a720237412a0a98c492b67e3246c187c00f")
    RegContractAddressStorageValue = common.BytesToHash([]byte{10})
    
    VoteContractBoolStorageIndex = common.HexToHash("0xc6eca4648b4c9f4004f098d97590d949321f0016aa3c54114fe524197e35c089")
    VoteContractBoolStorageValue = common.BytesToHash([]byte{1})
    
    VoteContractAddressStorageIndex = common.HexToHash("0x31e02a136b0147c5e92de4e9eaf91014b31370d815bccd7fef5f673bbae5f4ad")
    VoteContractAddressStorageValue = common.BytesToHash([]byte{11})
    
    ProposalPeriodStorageIndex = common.BytesToHash([]byte{7})
    
    
    // Reg contract variables
    DepositForProducerStorageIndex = common.BytesToHash([]byte{0})
    LockTimeForDepositStorageIndex = common.BytesToHash([]byte{1})
    ProducerSizeStorageIndex = common.BytesToHash([]byte{2})
    InitOutTimeStorageIndex = common.BytesToHash([]byte{3})
    
    SystemContractStorageIndex = common.BytesToHash([]byte{4})
    SystemContractStorageValue = common.HexToHash("0x0000000000000000000000000000000000000000000000000000000000000009")
    
    ProducerOpStorageIndex = common.BytesToHash([]byte{5})
    ProducerOpStorageValue = common.HexToHash("0x0000000000000000000000000000000000000000000000000000000000000009")
    
    
    // Vote contract variables
    OutTimeStorageIndex = common.BytesToHash([]byte{0})
    StakeForVoteStorageIndex = common.BytesToHash([]byte{1})
    LockTimeForStakeStorageIndex = common.BytesToHash([]byte{2})
    
    MainContractStorageIndex = common.BytesToHash([]byte{3})
    MainContractStorageValue = common.HexToHash("0x0000000000000000000000000000000000000000000000000000000000000009")
)

// Upgradeable system contract for dpos
// Producer/Voters can send tx to system contract for reg, unreg, vote and so on.
func NewHardcodedContractsDpos(config *params.DposConfig) []HardcodedContract {
    if config.DepositForProducer == 0 {
        config.DepositForProducer = params.DepositForProducer
    }
    if config.LockTimeForDeposit == 0 {
        config.LockTimeForDeposit = params.LockTimeForDeposit
    }
    if config.LockTimeForStake == 0 {
        config.LockTimeForStake = params.LockTimeForStake
    }
    if config.ProducerSize < params.MinimumProducerSize {
        config.ProducerSize = params.ProducerSize
    }
    if config.ProposalPeriod == 0 {
        config.ProposalPeriod = params.ProposalPeriod
    }
    if config.StakeForVote == 0 {
        config.StakeForVote = params.StakeForVote
    }
    
    return []HardcodedContract{
        NewSystemContract(
            MainSystemContractAddr,
            mainSystemContractCode,
            mainSystemContractABI,
            // Set reg and vote system contract address
            map[common.Hash]common.Hash{
                // Set reg system contract bool; mapping key is : 0x3742e890ccd7b17f07ea3d26ddabc6a24bd77cb109451e8c225eced73747e219
                RegContractBoolStorageIndex: RegContractBoolStorageValue,
                // Set vote system contract bool; mapping key is : 0x46a34feee9b84783782542ca731df2e0a2b7305bf7c1dd556e25d64fd9fa0bd2
                VoteContractBoolStorageIndex: VoteContractBoolStorageValue,
                // Set reg system contract address
                RegContractAddressStorageIndex: RegContractAddressStorageValue,
                // Set vote system contract address
                VoteContractAddressStorageIndex: VoteContractAddressStorageValue,
                ProposalPeriodStorageIndex: common.BigToHash(new(big.Int).SetUint64(config.ProposalPeriod)),
            },
        ),
        NewSystemContract(
            RegSystemContractAddr,
            regSystemContractCode,
            regSystemContractABI,
            map[common.Hash]common.Hash{
                // Set init variables
                DepositForProducerStorageIndex: common.BigToHash(new(big.Int).SetUint64(config.DepositForProducer)),
                LockTimeForDepositStorageIndex: common.BigToHash(new(big.Int).SetUint64(config.LockTimeForDeposit)),
                ProducerSizeStorageIndex: common.BigToHash(new(big.Int).SetUint64(config.ProducerSize)),
                InitOutTimeStorageIndex: common.BigToHash(new(big.Int).SetUint64(params.InitOutTime)),
                SystemContractStorageIndex: SystemContractStorageValue,
                ProducerOpStorageIndex: ProducerOpStorageValue,
            },
        ),
        NewSystemContract(
            VoteSystemContractAddr,
            voteSystemContractCode,
            voteSystemContractABI,
            map[common.Hash]common.Hash{
                // Set init variables
                OutTimeStorageIndex: common.BigToHash(new(big.Int).SetUint64(params.InitOutTime)),
                StakeForVoteStorageIndex: common.BigToHash(new(big.Int).SetUint64(config.StakeForVote)),
                LockTimeForStakeStorageIndex: common.BigToHash(new(big.Int).SetUint64(config.LockTimeForStake)),
                MainContractStorageIndex: MainContractStorageValue,
            },
        ),
    }
}

type HardcodedContract interface {
    GetCode() string
    GetContractAddr() common.Address
    GetStorage() map[common.Hash]common.Hash
}

func NewSystemContract(addr common.Address, code string, abiStr string, storageSet map[common.Hash]common.Hash) *SystemContract {
    // Ignore error
    parsed, _ := abi.JSON(strings.NewReader(abiStr))
    return &SystemContract{
        Addr:       addr,
        Code:       code,
        StorageSet: storageSet,
        ABI:        parsed,
    }
}

// Main dpos upgradeable system contract entry.
// Producer can send tx to this contract for proposing upgrade system
// contract, the storage data will leave on this contract.
type SystemContract struct {
    Addr       common.Address
    Code       string
    StorageSet map[common.Hash]common.Hash
    ABI        abi.ABI
}

func (m *SystemContract) GetCode() string {
    return m.Code
}

func (m *SystemContract) GetContractAddr() common.Address {
    return m.Addr
}

func (m *SystemContract) GetStorage() map[common.Hash]common.Hash {
    return m.StorageSet
}

func (m *SystemContract) GetRegSystemContract(data []byte) common.Address {
    var res = new(common.Address)
    m.ABI.Unpack(res, "getCurrentSystemContractAddress", data)
    return *res
}

// Caller for system contract which can get current reg system contract and get all producers.
type SystemContractCaller struct {
    mainSystemContractABI abi.ABI
    regSystemContractABI  abi.ABI
}

func NewSystemContractCaller() *SystemContractCaller {
    // Ignore error
    mainABI, _ := abi.JSON(strings.NewReader(mainSystemContractABI))
    regABI, _ := abi.JSON(strings.NewReader(regSystemContractABI))
    return &SystemContractCaller{
        mainABI,
        regABI,
    }
}

func (s *SystemContractCaller) GetRegSystemContractCall(header *types.Header) SystemCall {
    copyAddr := MainSystemContractAddr
    return NewCallMsg(&copyAddr, common.Hex2Bytes(getRegSystemContractMethodID), header.Number.Uint64())
}

func (s *SystemContractCaller) GetRegSystemContractAddress(data []byte) common.Address {
    var res = new(common.Address)
    s.mainSystemContractABI.Unpack(res, "getRegSystemContract", data)
    return *res
}

func (s *SystemContractCaller) GetAllProducersInfoCall(header *types.Header, contract *common.Address) SystemCall {
    return NewCallMsg(contract, common.Hex2Bytes(getAllProducersInfoMethodID), header.Number.Uint64())
}

func (s *SystemContractCaller) GetAllProducersInfo(data []byte) ([]common.Address, []*big.Int, *big.Int, error) {
    var (
        ret0 = new([]common.Address)
        ret1 = new([]*big.Int)
        ret2 = new(*big.Int)
    )
    out := &[]interface{}{
        ret0,
        ret1,
        ret2,
    }
    
    err := s.regSystemContractABI.Unpack(out, "getAllProducersInfo", data)
    return *ret0, *ret1, *ret2, err
}

func NewCallMsg(addr *common.Address, data []byte, blockNum uint64) SystemCall {
    return SystemCall{
        ToAddr:    addr,
        DataField: data,
        GasSupply: 50000000,
        AtBlock:   blockNum,
    }
}

type SystemCall struct {
    ToAddr    *common.Address
    DataField []byte
    GasSupply uint64
    AtBlock   uint64
}

func (s SystemCall) From() common.Address { return common.Address{} }
func (s SystemCall) Nonce() uint64        { return 0 }
func (s SystemCall) CheckNonce() bool     { return false }
func (s SystemCall) To() *common.Address  { return s.ToAddr }
func (s SystemCall) GasPrice() *big.Int   { return new(big.Int).SetUint64(0) }
func (s SystemCall) Gas() uint64          { return s.GasSupply }
func (s SystemCall) Value() *big.Int      { return new(big.Int).SetUint64(0) }
func (s SystemCall) Data() []byte         { return s.DataField }

